---
id: def-variance
requires:
- def-expectation
- def-random-variable
status: complete
title: '定義: 分散'
translation_of: ../../en/probability-statistics/def-variance.qmd
translations:
  en: ../en/probability-statistics/def-variance.html
  ja: ../ja/probability-statistics/def-variance.html
type: Definition
---

# 定義: 分散 {#def-variance}

[確率変数](def-random-variable.qmd)の**分散**は、その散らばりや広がりの尺度であり、確率変数の値が[期待値](def-expectation.qmd)からどれだけ離れているかを定量化するものである。

## 数学的定義

期待値 $\mu = E[X]$ を持つ確率変数 $X$ に対して、分散は次のように定義される：

$$\text{Var}(X) = E[(X - \mu)^2]$$

これは平均からの偏差の二乗の期待値を表す。

## 離散的な場合

確率質量関数 $p(x)$ と平均 $\mu$ を持つ離散確率変数 $X$ に対して：

$$\text{Var}(X) = \sum_{x} (x - \mu)^2 \cdot p(x)$$

ここで、和は $X$ のすべての可能な値にわたって取られる。

## 連続的な場合

確率密度関数 $f(x)$ と平均 $\mu$ を持つ連続確率変数 $X$ に対して：

$$\text{Var}(X) = \int_{-\infty}^{\infty} (x - \mu)^2 \cdot f(x) \, dx$$

## 計算公式

計算においてより便利な別の公式：

$$\text{Var}(X) = E[X^2] - (E[X])^2$$

これは「二乗の期待値から期待値の二乗を引いたもの」として知られている。

## 性質

1. **非負性**: 任意の確率変数 $X$ に対して $\text{Var}(X) \geq 0$
2. **ゼロ分散**: $\text{Var}(X) = 0$ であることと $X$ が（ほとんど確実に）定数であることは同値
3. **スケーリング**: 定数 $a, b$ に対して $\text{Var}(aX + b) = a^2 \text{Var}(X)$
4. **独立性**: $X$ と $Y$ が[独立](def-independence.qmd)ならば、$\text{Var}(X + Y) = \text{Var}(X) + \text{Var}(Y)$
5. **標準偏差**: 分散の平方根 $\sigma = \sqrt{\text{Var}(X)}$ は標準偏差と呼ばれる

## 存在条件

分散が存在するのは $E[X^2] < \infty$ のとき、そしてそのときに限る。これは $E[X]$ と $E[(X - \mu)^2]$ の両方が有限であることを意味する。

## 例

1. **ベルヌーイ分布**: $X \sim \text{Bernoulli}(p)$ ならば、$\text{Var}(X) = p(1-p)$
2. **二項分布**: $X \sim \text{Binomial}(n, p)$ ならば、$\text{Var}(X) = np(1-p)$
3. **正規分布**: $X \sim \mathcal{N}(\mu, \sigma^2)$ ならば、$\text{Var}(X) = \sigma^2$
4. **指数分布**: $X \sim \text{Exp}(\lambda)$ ならば、$\text{Var}(X) = 1/\lambda^2$
5. **ポアソン分布**: $X \sim \text{Poisson}(\lambda)$ ならば、$\text{Var}(X) = \lambda$

## 解釈

- 分散は平均からの二乗距離の平均を測定する
- より大きな分散はデータのより大きな変動性を示す
- 分散の単位は確率変数の単位の二乗である
- 標準偏差（分散の平方根）は確率変数と同じ単位を持つ

## 極限定理における役割

分散は以下において重要な役割を果たす：
- [大数の法則](thm-law-of-large-numbers.qmd)：収束の速度は分散に依存する
- [中心極限定理](thm-central-limit.qmd)：標本平均の極限正規分布の分散はσ²/nとなる

## Mermaid図

```mermaid
graph TD
    A[分散] --> B[定義: E[(X-μ)²]]
    A --> C[計算式: E[X²] - E[X]²]
    A --> D[性質]
    D --> E[非負性]
    D --> F[スケーリング: Var(aX+b) = a²Var(X)]
    D --> G[独立性: Var(X+Y) = Var(X) + Var(Y)]
    A --> H[標準偏差: σ = √Var(X)]

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#bbf,stroke:#333,stroke-width:2px
    style C fill:#bbf,stroke:#333,stroke-width:2px
    style H fill:#bfb,stroke:#333,stroke-width:2px
```

## 依存関係グラフ

```{mermaid}
%%| fig-cap: "Local dependency graph"
graph TD
    classDef definition fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef theorem fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef axiom fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef example fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    classDef current fill:#ffebee,stroke:#b71c1c,stroke-width:3px
    thm-central-limit["Theorem: Central Limit Theorem"]:::theorem
    thm-law-of-large-numbers["Theorem: Law of Large Numbers"]:::theorem
    def-expectation["Definition: Expected Value"]:::definition
    def-random-variable["Definition: Random Variable"]:::definition
    def-variance["Definition: Variance"]:::definition
    thm-central-limit --> def-variance
    thm-law-of-large-numbers --> def-variance
    def-variance --> def-random-variable
    def-variance --> def-expectation
    class def-variance current
    click thm-central-limit "thm-central-limit.html" "Theorem: Central Limit Theoremへ"
    click thm-law-of-large-numbers "thm-law-of-large-numbers.html" "Theorem: Law of Large Numbersへ"
    click def-expectation "def-expectation.html" "Definition: Expected Valueへ"
    click def-random-variable "def-random-variable.html" "Definition: Random Variableへ"
```

## インタラクティブ可視化

ローカルナレッジグラフの近傍をインタラクティブに探索：

::: {.graph-viz data-id="def-variance" data-width="700" data-height="500"}
:::

次のことができます：
- ノードを**ドラッグ**してレイアウトを再配置
- マウスホイールで**ズーム**イン/アウト
- ノードに**ホバー**して詳細を表示
- [別ウィンドウ](../../output/interactive/def-variance.html){target="_blank"}で完全なインタラクティブ版を表示
