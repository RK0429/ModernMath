---
title: "Theorem: Chain Rule"
id: "thm-chain-rule"
type: "Theorem"
status: "complete"
requires:
  - "def-derivative"
  - "def-continuity"
---

# Theorem: Chain Rule {#thm-chain-rule}

The chain rule provides a formula for computing the [derivative](def-derivative.qmd) of a composition of functions.

## Statement

Let $f: (a, b) \to \mathbb{R}$ and $g: (c, d) \to \mathbb{R}$ where $f((a, b)) \subseteq (c, d)$. 

If $f$ is differentiable at $x_0 \in (a, b)$ and $g$ is differentiable at $f(x_0)$, then the composition $g \circ f$ is differentiable at $x_0$ and:

$$(g \circ f)'(x_0) = g'(f(x_0)) \cdot f'(x_0)$$

## Leibniz Notation

If $y = f(x)$ and $z = g(y)$, then:

$$\frac{dz}{dx} = \frac{dz}{dy} \cdot \frac{dy}{dx}$$

## Proof Outline

Let $h = g \circ f$. We need to show:
$$\lim_{x \to x_0} \frac{h(x) - h(x_0)}{x - x_0} = g'(f(x_0)) \cdot f'(x_0)$$

Define $y = f(x)$ and $y_0 = f(x_0)$. For $x \neq x_0$:

$$\frac{h(x) - h(x_0)}{x - x_0} = \frac{g(f(x)) - g(f(x_0))}{x - x_0}$$

When $f(x) \neq f(x_0)$:
$$= \frac{g(f(x)) - g(f(x_0))}{f(x) - f(x_0)} \cdot \frac{f(x) - f(x_0)}{x - x_0}$$

Since $f$ is differentiable at $x_0$, it is [continuous](def-continuity.qmd) there, so $f(x) \to f(x_0)$ as $x \to x_0$.

Taking the limit as $x \to x_0$, we get the desired result.

## Extended Chain Rule

For a composition of $n$ functions $f_1 \circ f_2 \circ \cdots \circ f_n$:

$$(f_1 \circ f_2 \circ \cdots \circ f_n)' = f_1'(f_2 \circ \cdots \circ f_n) \cdot f_2'(f_3 \circ \cdots \circ f_n) \cdots f_n'$$

## Examples

1. If $h(x) = \sin(x^2)$, then $h'(x) = \cos(x^2) \cdot 2x$

2. If $h(x) = e^{\sqrt{x}}$, then $h'(x) = e^{\sqrt{x}} \cdot \frac{1}{2\sqrt{x}}$

3. If $h(x) = \ln(\sin(x))$, then $h'(x) = \frac{1}{\sin(x)} \cdot \cos(x) = \cot(x)$

## Mermaid Diagram

```mermaid
graph TD
    A[Chain Rule] --> B[(g∘f)' = g'(f(x))·f'(x)]
    A --> C[Composition of Functions]
    C --> D[f: x → y]
    C --> E[g: y → z]
    B --> F[Leibniz: dz/dx = dz/dy · dy/dx]
    A --> G[Requires]
    G --> H[f differentiable at x₀]
    G --> I[g differentiable at f(x₀)]
    
    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#bfb,stroke:#333,stroke-width:2px
    style F fill:#bfb,stroke:#333,stroke-width:2px
```